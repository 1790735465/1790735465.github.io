<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>SpringCloud | csde`Blog</title><meta name="description" content="什么是微服务?1微服务就是一个很小的服务,小到一个服务只对应一个单一的功能,只做一件事情。这个服务可以单独部署运行，服务之间可以通过RPC来相互交互，每个微服务都是由独立的小团队开发，测试，部署，上线，负责它的整个生命周期。   总结一句话,就是把以前的服务拆分为若干个模块,降低每个服务之间的耦合性。专业人做专业的事情 微服务目前遇到的问题有哪些? 那么多服务,用户该如何进行访问 那么多服务,服务"><meta name="keywords" content="微服务"><meta name="author" content="csde`Blog"><meta name="copyright" content="csde`Blog"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="dns-prefetch" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="SpringCloud"><meta name="twitter:description" content="什么是微服务?1微服务就是一个很小的服务,小到一个服务只对应一个单一的功能,只做一件事情。这个服务可以单独部署运行，服务之间可以通过RPC来相互交互，每个微服务都是由独立的小团队开发，测试，部署，上线，负责它的整个生命周期。   总结一句话,就是把以前的服务拆分为若干个模块,降低每个服务之间的耦合性。专业人做专业的事情 微服务目前遇到的问题有哪些? 那么多服务,用户该如何进行访问 那么多服务,服务"><meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="og:type" content="article"><meta property="og:title" content="SpringCloud"><meta property="og:url" content="https://www.csde.vip/posts/2527336709/"><meta property="og:site_name" content="csde`Blog"><meta property="og:description" content="什么是微服务?1微服务就是一个很小的服务,小到一个服务只对应一个单一的功能,只做一件事情。这个服务可以单独部署运行，服务之间可以通过RPC来相互交互，每个微服务都是由独立的小团队开发，测试，部署，上线，负责它的整个生命周期。   总结一句话,就是把以前的服务拆分为若干个模块,降低每个服务之间的耦合性。专业人做专业的事情 微服务目前遇到的问题有哪些? 那么多服务,用户该如何进行访问 那么多服务,服务"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-09-16T00:31:13.000Z"><meta property="article:modified_time" content="2020-09-16T00:31:13.000Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://www.csde.vip/posts/2527336709/"><link rel="next" title="ElasticSearch学习" href="https://www.csde.vip/posts/3404214748/"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b249631a415c6119f6f5e4ece6c4bc92";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://blog.csdn.net/weixin_45736927","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/1790735465/static/css/icon.css"><meta name="generator" content="Hexo 4.2.1"></head><body><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">25</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-rocket" aria-hidden="true"></i><span> 统计</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-file-movie-o"></i><span> 番剧</span></a></li><li><a class="site-page" href="/404/"><i class="fa-fw fa fa-times"></i><span> 404</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是微服务"><span class="toc-number">1.</span> <span class="toc-text">什么是微服务?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务目前遇到的问题有哪些"><span class="toc-number">1.1.</span> <span class="toc-text">微服务目前遇到的问题有哪些?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解决方案"><span class="toc-number">1.2.</span> <span class="toc-text">解决方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务优缺点"><span class="toc-number">1.3.</span> <span class="toc-text">微服务优缺点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#优点"><span class="toc-number">1.3.1.</span> <span class="toc-text">优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#缺点"><span class="toc-number">1.3.2.</span> <span class="toc-text">缺点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#微服务的技术栈有哪些"><span class="toc-number">1.4.</span> <span class="toc-text">微服务的技术栈有哪些?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么选择Spring-Cloud作为微服务架构"><span class="toc-number">1.5.</span> <span class="toc-text">为什么选择Spring Cloud作为微服务架构?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#选型依据"><span class="toc-number">1.5.1.</span> <span class="toc-text">选型依据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#当前各大IT公司用的微服务架构有哪些？"><span class="toc-number">1.5.2.</span> <span class="toc-text">当前各大IT公司用的微服务架构有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#各微服务框架对比"><span class="toc-number">1.5.3.</span> <span class="toc-text">各微服务框架对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#什么是Spring-Cloud？"><span class="toc-number">2.</span> <span class="toc-text">什么是Spring Cloud？</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot和Spring-Cloud有什么关系"><span class="toc-number">2.1.</span> <span class="toc-text">SpringBoot和Spring Cloud有什么关系?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dubbo-和-SpringCloud-对比"><span class="toc-number">2.2.</span> <span class="toc-text">Dubbo 和 SpringCloud 对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringCloud在哪下"><span class="toc-number">2.3.</span> <span class="toc-text">SpringCloud在哪下</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Eureka服务注册与发现"><span class="toc-number">3.</span> <span class="toc-text">Eureka服务注册与发现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Eureka的自我保护机制"><span class="toc-number">3.1.</span> <span class="toc-text">Eureka的自我保护机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Eureka和Zookeeper对比"><span class="toc-number">3.2.</span> <span class="toc-text">Eureka和Zookeeper对比</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Ribbon负载均衡"><span class="toc-number">4.</span> <span class="toc-text">Ribbon负载均衡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Ribbon是什么？"><span class="toc-number">4.1.</span> <span class="toc-text">Ribbon是什么？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ribbon能干嘛？"><span class="toc-number">4.2.</span> <span class="toc-text">Ribbon能干嘛？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ribbon核心组件IRule"><span class="toc-number">4.3.</span> <span class="toc-text">Ribbon核心组件IRule</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ribbon和Feign有什么区别？"><span class="toc-number">4.4.</span> <span class="toc-text">Ribbon和Feign有什么区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Feign能干什么？"><span class="toc-number">4.4.1.</span> <span class="toc-text">Feign能干什么？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Feign集成Ribbon"><span class="toc-number">4.4.2.</span> <span class="toc-text">Feign集成Ribbon</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hystrix断路器"><span class="toc-number">5.</span> <span class="toc-text">Hystrix断路器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#分布式系统面临的问题"><span class="toc-number">5.1.</span> <span class="toc-text">分布式系统面临的问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#服务雪崩"><span class="toc-number">5.2.</span> <span class="toc-text">服务雪崩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是Hystrix"><span class="toc-number">5.3.</span> <span class="toc-text">什么是Hystrix?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#服务降级"><span class="toc-number">5.3.1.</span> <span class="toc-text">服务降级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#服务熔断"><span class="toc-number">5.3.2.</span> <span class="toc-text">服务熔断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接近实时的监控"><span class="toc-number">5.3.3.</span> <span class="toc-text">接近实时的监控</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Zuul路由网关"><span class="toc-number">6.</span> <span class="toc-text">Zuul路由网关</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是Zuul"><span class="toc-number">6.1.</span> <span class="toc-text">什么是Zuul?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Zuul能干什么？"><span class="toc-number">6.2.</span> <span class="toc-text">Zuul能干什么？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringCloud-config分布式配置"><span class="toc-number">7.</span> <span class="toc-text">SpringCloud config分布式配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#什么是SpringCloud-config分布式配置中心"><span class="toc-number">7.1.</span> <span class="toc-text">什么是SpringCloud config分布式配置中心?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringCloud-config分布式配置中心能干什么"><span class="toc-number">7.2.</span> <span class="toc-text">SpringCloud config分布式配置中心能干什么?</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#学习代码上传到gitee上面"><span class="toc-number">8.</span> <span class="toc-text">学习代码上传到gitee上面</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">csde`Blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-rocket" aria-hidden="true"></i><span> 统计</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/bangumis/"><i class="fa-fw fa fa-file-movie-o"></i><span> 番剧</span></a></li><li><a class="site-page" href="/404/"><i class="fa-fw fa fa-times"></i><span> 404</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">SpringCloud</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-09-16 08:31:13"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-09-16</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-09-16 08:31:13"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-09-16</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">8k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 24 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/posts/2527336709/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/2527336709/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="什么是微服务"><a href="#什么是微服务" class="headerlink" title="什么是微服务?"></a>什么是微服务?</h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">微服务就是一个很小的服务,小到一个服务只对应一个单一的功能,只做一件事情。这个服务可以单独部署运行，服务之间可以通过RPC来相互交互，每个微服务都是由独立的小团队开发，测试，部署，上线，负责它的整个生命周期。</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200916084458.png" alt></p>
<p><strong>总结一句话,就是把以前的服务拆分为若干个模块,降低每个服务之间的耦合性。专业人做专业的事情</strong></p>
<h2 id="微服务目前遇到的问题有哪些"><a href="#微服务目前遇到的问题有哪些" class="headerlink" title="微服务目前遇到的问题有哪些?"></a>微服务目前遇到的问题有哪些?</h2><ul>
<li>那么多服务,用户该如何进行访问</li>
<li>那么多服务,服务间的通信怎么解决？</li>
<li>那么多服务,我该进行如何管理?</li>
<li>如果一个服务挂了,该如何解决？</li>
</ul>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ul>
<li><p>SpringCloud NetFlix        <strong>一站式解决方案</strong>   <code>2018年12月已经停止更新!!!</code>    </p>
<ul>
<li><p>Api网关   :   zuul组件</p>
</li>
<li><p>Feign — HttpClinet — Http通信方式 ,同步,阻塞</p>
</li>
<li><p>服务的注册与发现   :    Eureka</p>
</li>
<li><p>熔断机制  :   Hystrix</p>
<p>。。。。。</p>
</li>
</ul>
</li>
<li><p>Apace Dubbo Zookeeper   <strong>半自动解决方案,需要第三方引入</strong></p>
<ul>
<li>无,需要引入第三方组件</li>
<li><strong>Dubbo就是一个基于RPC通信框架</strong></li>
<li>服务的注册与发现   :    Zookeeper   </li>
<li>熔断机制    :   无</li>
</ul>
</li>
<li><p>Spring Cloud Alibaba   <strong>一站式解决方案,更加简化了</strong>   <code>2019年9月-2019年10月正式孵化成功!!!</code></p>
</li>
</ul>
<h2 id="微服务优缺点"><a href="#微服务优缺点" class="headerlink" title="微服务优缺点"></a>微服务优缺点</h2><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ul>
<li>单一职责原则</li>
<li>每个服务足够内聚，足够小，代码容易理解，这样能聚焦一个指定的业务功能或业务需求;</li>
<li>开发简单，开发效率提高，一个服务可能就是专一的只干一 件事;</li>
<li>微服务能够被小团队单独开发，这个小团队是2~5人的开发人员组成;</li>
<li>微服务是松耦合的，是有功能意义的服务，无论是在开发阶段或部署阶段都是独立的。</li>
<li>微服务能使用不同的语言开发。</li>
<li>易于和第三方集成，微服务允许容易且灵活的方式集成自动部署，通过持续集成工具，如jenkins, Hudson,<br>bamboo</li>
<li>微服务易于被一个开发人员理解，修改和维护，这样小团队能够更关注自己的工作成果。无需通过合作才能体<br>现价值。</li>
<li>微服务允许你利用融合最新技术。</li>
<li>微服务只是业务逻辑的代码，不会和HTML，CSS 或其他界面混合<br>每个微服务都有自己的存储能力，可以有自己的数据库，也可以有统一数据库</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>开发人员要处理分布式系统的复杂性</li>
<li>多服务运维难度，随着服务的增加，运维的压力也在增大</li>
<li>系统部署依赖</li>
<li>服务间通信成本</li>
<li>数据一致性</li>
<li>系统集成测试</li>
<li>性能监控…</li>
</ul>
<h2 id="微服务的技术栈有哪些"><a href="#微服务的技术栈有哪些" class="headerlink" title="微服务的技术栈有哪些?"></a>微服务的技术栈有哪些?</h2><table>
<thead>
<tr>
<th align="center"><strong>微服务条目</strong></th>
<th><strong>落地技术</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">服务开发</td>
<td>SpringBoot,Spring,SpringMVC</td>
</tr>
<tr>
<td align="center">服务配置与管理</td>
<td>Netflflix公司的Archaius、阿里的Diamond等</td>
</tr>
<tr>
<td align="center">服务注册与发现</td>
<td>Eureka、Consul、Zookeeper等</td>
</tr>
<tr>
<td align="center">服务调用</td>
<td>Rest、RPC、gRPC</td>
</tr>
<tr>
<td align="center">服务熔断器</td>
<td>Hystrix、Envoy等</td>
</tr>
<tr>
<td align="center">负载均衡</td>
<td>Ribbon、Nginx等</td>
</tr>
<tr>
<td align="center">服务接口调用（客户端调用服务的简化工具）</td>
<td>Feign等</td>
</tr>
<tr>
<td align="center">消息队列</td>
<td>Kafka、RabbitMQ、ActiveMQ等</td>
</tr>
<tr>
<td align="center">服务配置中心管理</td>
<td>SpringCloudConfifig、Chef等</td>
</tr>
<tr>
<td align="center">服务路由（API网关）</td>
<td>Zuul等</td>
</tr>
<tr>
<td align="center">服务监控</td>
<td>Zabbix、Nagios、Metrics、Specatator等</td>
</tr>
<tr>
<td align="center">全链路追踪</td>
<td>Zipkin、Brave、Dapper等</td>
</tr>
<tr>
<td align="center">服务部署</td>
<td>Docker、OpenStack、Kubernetes等</td>
</tr>
<tr>
<td align="center">数据流操作开发包</td>
<td>SpringCloud Stream(封装与Redis，Rabbit，Kafka等发送接受信息</td>
</tr>
<tr>
<td align="center">事件消息总线</td>
<td>SpringCloud Bus</td>
</tr>
</tbody></table>
<h2 id="为什么选择Spring-Cloud作为微服务架构"><a href="#为什么选择Spring-Cloud作为微服务架构" class="headerlink" title="为什么选择Spring Cloud作为微服务架构?"></a>为什么选择Spring Cloud作为微服务架构?</h2><h3 id="选型依据"><a href="#选型依据" class="headerlink" title="选型依据"></a>选型依据</h3><ul>
<li>整体解决方案和框架成熟度 </li>
<li>社区热度 </li>
<li>可维护性</li>
</ul>
<h3 id="当前各大IT公司用的微服务架构有哪些？"><a href="#当前各大IT公司用的微服务架构有哪些？" class="headerlink" title="当前各大IT公司用的微服务架构有哪些？"></a>当前各大IT公司用的微服务架构有哪些？</h3><ul>
<li>阿里：dubbo+HFS </li>
<li>京东：JSF </li>
<li>新浪：Motan</li>
<li>当当网 DubboX</li>
<li>….</li>
</ul>
<h3 id="各微服务框架对比"><a href="#各微服务框架对比" class="headerlink" title="各微服务框架对比"></a>各微服务框架对比</h3><table>
<thead>
<tr>
<th><strong>功能</strong>点/服务架构</th>
<th><strong>Netflflix/SpringCloud</strong></th>
<th><strong>Motan</strong></th>
<th><strong>gRPC</strong></th>
<th><strong>Thrift</strong></th>
<th><strong>Dubbo/DubboX</strong></th>
</tr>
</thead>
<tbody><tr>
<td>功能定位</td>
<td>完整的微服务框架</td>
<td>RPC框架，但整 合了ZK或 Consul，实现集 群环境的基本服 务注册/发现</td>
<td>RPC框架</td>
<td>RPC框架</td>
<td>服务框架</td>
</tr>
<tr>
<td>支持Rest</td>
<td>是，Ribbon支持多种可插拔的序列化选择</td>
<td>否</td>
<td>否</td>
<td>否</td>
<td>否</td>
</tr>
<tr>
<td>支持RPC</td>
<td>否</td>
<td>是（Hession2）</td>
<td>是</td>
<td>是</td>
<td>是</td>
</tr>
<tr>
<td>支持多语言</td>
<td>是（Rest形式）？</td>
<td>否</td>
<td>是</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td>负载均衡</td>
<td>是（服务端zuul+客户端(Ribbon），zuul-服务，动 态路由，云端负载均衡Eureka（针对中间层服务器）</td>
<td>是（客户端）</td>
<td>否</td>
<td>否</td>
<td>是（客户端）</td>
</tr>
<tr>
<td>配置服务</td>
<td>Netfifix Archaius，SpringCloud Confifig Server集中配置</td>
<td>是（zookeeper提供)</td>
<td>否</td>
<td>否</td>
<td>否</td>
</tr>
<tr>
<td>服务调用链监控</td>
<td>是（zuul），zuul提供边缘服务,Api网关</td>
<td>否</td>
<td>否</td>
<td>否</td>
<td>否</td>
</tr>
<tr>
<td>高可用/容错</td>
<td>是（服务端Hystrix+客户端Ribbon）</td>
<td>是（客户端）</td>
<td>否</td>
<td>否</td>
<td>是（客户端）</td>
</tr>
<tr>
<td>典型应用案例</td>
<td>Netflflix</td>
<td>Sina</td>
<td>Google</td>
<td>Facebook</td>
<td></td>
</tr>
<tr>
<td>社区活跃程度</td>
<td>高</td>
<td>一般</td>
<td>高</td>
<td>一般</td>
<td>2017年后重新开始维护，之前中断了5年</td>
</tr>
<tr>
<td>学习难度</td>
<td>中</td>
<td>低</td>
<td>高</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>文档丰富程度</td>
<td>高</td>
<td>一般</td>
<td>一般</td>
<td>一般</td>
<td>高</td>
</tr>
</tbody></table>
<h1 id="什么是Spring-Cloud？"><a href="#什么是Spring-Cloud？" class="headerlink" title="什么是Spring Cloud？"></a>什么是Spring Cloud？</h1><p>SpringCloud,基于SpringBoot提供了一套微服务解决方案， 包括服务注册与发现，配置中心，全链路监控，服务<br>网关，负载均衡，熔断器等组件，除了基于NetFlix的开源组件做高度抽象封装之外，还有一些选型中立的开源组<br>件。<br>SpringCloud利用SpringBoot的开发便利性,巧妙地简化了分布式系统基础设施的开发，SpringCloud为开发人员<br>提供了快速构建分布式系统的一-些工具，包括<strong>配置管理，服务发现，断路器，路由，微代理，事件总线，全局锁，决策竞选，分布式会话</strong>等等，他们都可以用SpringBoot的开发风格做到一键启动和部署。<br>SpringBoot并没有重复造轮子，它只是将目前各家公司开发的比较成熟，经得起实际考研的服务框架组合起来，<br>通过SpringBoot风格进行再封装，屏蔽掉了复杂的配置和实现原理，<strong>最终给开发者留出了一套简单易懂，易部署</strong><br><strong>和易维护的分布式系统开发工具包</strong><br>SpringCloud是分布式微服务架构下的一站式解决方案， 是各个微服务架构落地技术的集合体，俗称微服务全家<br>桶。</p>
<h2 id="SpringBoot和Spring-Cloud有什么关系"><a href="#SpringBoot和Spring-Cloud有什么关系" class="headerlink" title="SpringBoot和Spring Cloud有什么关系?"></a>SpringBoot和Spring Cloud有什么关系?</h2><ul>
<li>SpringBoot专注于快速方便的开发单个个体微服务。</li>
<li>SpringCloud是关注全局的微服务协调整理治理框架，它将SpringBoot开发的一 个个单体微服务整合并管理起来，为各个微服务之间提供:配置管理，服务发现，断路器，路由，微代理，事件总线，全局锁，决策竞选，分布式会话等等集成服务。</li>
<li>SpringBoot可以离开SpringClooud独立使用，开发项目，但是SpringCloud离不开SpringBoot, 属于依赖关<br>系</li>
<li>SpringBoot专注于快速、方便的开发单个个体微服务，SpringCloud关注全局的服务治理框架</li>
</ul>
<h2 id="Dubbo-和-SpringCloud-对比"><a href="#Dubbo-和-SpringCloud-对比" class="headerlink" title="Dubbo 和 SpringCloud 对比"></a>Dubbo 和 SpringCloud 对比</h2><p>社区活跃度</p>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200916102509.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200916102621.png" alt></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"><strong>Dubbo</strong></th>
<th align="center"><strong>Spring</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">服务注册中心</td>
<td align="center">Zookeeper</td>
<td align="center">Spring Cloud Netfifilx Eureka</td>
</tr>
<tr>
<td align="center">服务调用方式</td>
<td align="center">RPC</td>
<td align="center">REST API</td>
</tr>
<tr>
<td align="center">服务监控</td>
<td align="center">Dubbo-monitor</td>
<td align="center">Spring Boot Admin</td>
</tr>
<tr>
<td align="center">断路器</td>
<td align="center">不完善</td>
<td align="center">Spring Cloud Netflflix Hystrix</td>
</tr>
<tr>
<td align="center">服务网关</td>
<td align="center">无</td>
<td align="center">Spring Cloud Netflflix Zuul</td>
</tr>
<tr>
<td align="center">分布式配置</td>
<td align="center">无</td>
<td align="center">Spring Cloud Confifig</td>
</tr>
<tr>
<td align="center">服务跟踪</td>
<td align="center">无</td>
<td align="center">Spring Cloud Sleuth</td>
</tr>
<tr>
<td align="center">消息总线</td>
<td align="center">无</td>
<td align="center">Spring Cloud Bus</td>
</tr>
<tr>
<td align="center">数据流</td>
<td align="center">无</td>
<td align="center">Spring Cloud Stream</td>
</tr>
<tr>
<td align="center">批量任务</td>
<td align="center">无</td>
<td align="center">Spring Cloud Task</td>
</tr>
</tbody></table>
<p><strong>最大区别: SpringCloud抛弃 了Dubbo的RPC通信,采用的是基于HTTP的REST方式。</strong></p>
<p>严格来说，这两种方式各有优劣。虽然从一定程度上来说，后者牺牲了服务调用的性能，但也避免了上 </p>
<p>面提到的原生RPC带来的问题。而且REST相比RPC更为灵活，服务提供方和调用方的依赖只依靠一纸契 </p>
<p>约，不存在代码级别的强依赖，这在强调快速演化的微服务环境下，显得更加合适。 </p>
<p><strong>品牌机与组装机的区别</strong></p>
<p>很明显，Spring Cloud的功能比DUBBO更加强大，涵盖面更广，而且作为Spring的拳头项目，它也能够 </p>
<p>与Spring Framework、Spring Boot、Spring Data、Spring Batch等其他Spring项目完美融合，这些对 </p>
<p>于微服务而言是至关重要的。使用Dubbo构建的微服务架构就像组装电脑，各环节我们的选择自由度很 </p>
<p>高，但是最终结果很有可能因为一条内存质量不行就点不亮了，总是让人不怎么放心，但是如果你是一 </p>
<p>名高手，那这些都不是问题；而Spring Cloud就像品牌机，在Spring Source的整合下，做了大量的兼容 </p>
<p>性测试，保证了机器拥有更高的稳定性，但是如果要在使用非原装组件外的东西，就需要对其基础有足 </p>
<p>够的了解。</p>
<p><strong>社区支持与更新力度</strong></p>
<p>最为重要的是，DUBBO停止了5年左右的更新，虽然2017.7重启了。对于技术发展的新需求，需要由开 </p>
<p>发者自行拓展升级（比如当当网弄出了DubboX），这对于很多想要采用微服务架构的中小软件组织， </p>
<p>显然是不太合适的，中小公司没有这么强大的技术能力去修改Dubbo源码+周边的一整套解决方案，并 </p>
<p>不是每一个公司都有阿里的大牛+真实的线上生产环境测试过。</p>
<p><strong>总结</strong></p>
<p>曾风靡国内的开源 RPC 服务框架 Dubbo 在重启维护后，令许多用户为之雀跃，但同时，也迎来了一些 </p>
<p>质疑的声音。互联网技术发展迅速，Dubbo 是否还能跟上时代？Dubbo 与 Spring Cloud 相比又有何优 </p>
<p>势和差异？是否会有相关举措保证 Dubbo 的后续更新频率？ </p>
<p>人物：Dubbo重启维护开发的刘军，主要负责人之一 </p>
<p>刘军，阿里巴巴中间件高级研发工程师，主导了 Dubbo 重启维护以后的几个发版计划，专注于高性能 </p>
<p>RPC 框架和微服务相关领域。曾负责网易考拉 RPC 框架的研发及指导在内部使用，参与了服务治理平 </p>
<p>台、分布式跟踪系统、分布式一致性框架等从无到有的设计与开发过程。</p>
<p><strong>解决的问题域不一样: Dubbo的定位是一款RPC框架, Spring Cloud的目标是微服务架构下的一站式解</strong><br><strong>决方案</strong></p>
<h2 id="SpringCloud在哪下"><a href="#SpringCloud在哪下" class="headerlink" title="SpringCloud在哪下"></a>SpringCloud在哪下</h2><p>官网：<a href="http://projects.spring.io/spring-cloud/" target="_blank" rel="noopener">http://projects.spring.io/spring-cloud/</a></p>
<p><strong>这玩意的版本非常特别,都是以英国伦敦地铁站的名字命名, 首字母越靠后表示版本号越大</strong> </p>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200916105531.png" alt></p>
<h1 id="Eureka服务注册与发现"><a href="#Eureka服务注册与发现" class="headerlink" title="Eureka服务注册与发现"></a>Eureka服务注册与发现</h1><p>Netflix 在设计Eureka 时，遵循的就是<strong>AP</strong>原则 </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CAP原则又称CAP定理，指的是在一个分布式系统中 一致性（Consistency） 可用性（Availability） 分区容错性（Partition tolerance） CAP 原则指的是，这三个要素最多只能同时实现两点，不可能三者兼顾。</span><br></pre></td></tr></table></figure>

<p>Eureka是Netflix的一个子模块，也是核心模块之一。Eureka是一个基于REST的服务，用于定位服务， </p>
<p>以实现云端中间层服务发现和故障转移，服务注册与发现对于微服务来说是非常重要的，有了服务发现 </p>
<p>与注册，只需要使用服务的标识符，就可以访问到服务，而不需要修改服务调用的配置文件了，功能类 </p>
<p>似于Dubbo的注册中心，比如Zookeeper；</p>
<blockquote>
<p>Eureka 包含两个组件:<strong>Eureka Server</strong> 和 <strong>Eureka Client</strong> 。</p>
</blockquote>
<p>Eureka Server 提供服务注册服务，各个节点启动后，会在EurekaServer中进行注册，这样Eureka </p>
<p>Server中的服务注册表中将会存储所有可用服务节点的信息，服务节点的信息可以在界面中直观的看 </p>
<p>到。 </p>
<p>Eureka Client是一个Java客户端，用于简化EurekaServer的交互，客户端同时也具备一个内置的，使用 </p>
<p>轮询负载算法的负载均衡器。在应用启动后，将会向EurekaServer发送心跳（默认周期为30秒）。如果 </p>
<p>Eureka Server在多个心跳周期内没有接收到某个节点的心跳，EurekaServer将会从服务注册表中把这 </p>
<p>个服务节点移除掉（默认周期为90秒）</p>
<blockquote>
<p>三大角色</p>
</blockquote>
<ul>
<li><p>Eureka Server：提供服务的注册于发现。 </p>
</li>
<li><p>Service Provider：将自身服务注册到Eureka中，从而使消费方能够找到。 </p>
</li>
<li><p>Service Consumer：服务消费方从Eureka中获取注册服务列表，从而找到消费服务。 </p>
</li>
</ul>
<h2 id="Eureka的自我保护机制"><a href="#Eureka的自我保护机制" class="headerlink" title="Eureka的自我保护机制"></a>Eureka的自我保护机制</h2><p>如果用Eureka监控的服务,突然出现了故障,这个伤害Eureka就会出现一种自我保护机制(<strong>心跳机制</strong>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EMERGENCY! EUREKA MAY BE INCORRECTLY CL AIMING INSTANCES ARE UP WHEN THEY&#39;RE NOT. RENEWAL S AREL ESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE.DS Denlicas</span><br></pre></td></tr></table></figure>

<p>一句话总结：某时刻某一个微服务不可以用了，eureka不会立刻清理，依旧会对该微服务的信息进行保 存！ 默认情况下，如果EurekaServer在一定时间内没有接收到某个微服务实例的心跳，EurekaServer将会注 销该实例（默认90秒）。但是当网络分区故障发生时，微服务与Eureka之间无法正常通行，以上行为可 能变得非常危险了–因为微服务本身其实是健康的，<strong>此时本不应该注销这个服务</strong>。Eureka通过 <strong>自我保护</strong> <strong>机制</strong> 来解决这个问题–当EurekaServer节点在短时间内丢失过多客户端时（可能发生了网络分区故 障），那么这个节点就会进入自我保护模式。一旦进入该模式，EurekaServer就会保护服务注册表中的 信息，不再删除服务注册表中的数据（也就是不会注销任何微服务）。当网络故障恢复后，该 EurekaServer节点会自动退出自我保护模式。 在自我保护模式中，EurekaServer会保护服务注册表中的信息，不再注销任何服务实例。当它收到的心 跳数重新恢复到阈值以上时，该EurekaServer节点就会自动退出自我保护模式。它的设计哲学就是宁可 保留错误的服务注册信息，也不盲目注销任何可能健康的服务实例。一句话：好死不如赖活着综上，自我保护模式是一种应对网络异常的安全保护措施。它的架构哲学是宁可同时保留所有微服务 （健康的微服务和不健康的微服务都会保留），也不盲目注销任何健康的微服务。使用自我保护模式， 可以让Eureka集群更加的健壮和稳定。 在SpringCloud中，可以使用 <code>eureka.server.enable-self-preservation = false</code> 禁用自我保护 模式 【不推荐关闭自我保护机制】</p>
<h2 id="Eureka和Zookeeper对比"><a href="#Eureka和Zookeeper对比" class="headerlink" title="Eureka和Zookeeper对比"></a>Eureka和Zookeeper对比</h2><blockquote>
<p>回顾CAP原则</p>
</blockquote>
<ul>
<li><p>RDBMS （Mysql、Oracle、sqlServer）===&gt;ACID </p>
</li>
<li><p>NoSQL（redis、mongdb）===&gt; CAP</p>
</li>
</ul>
<blockquote>
<p>ACID是什么？</p>
</blockquote>
<ul>
<li><p>A（Atomicity）原子性 </p>
</li>
<li><p>C（Consistency） 一致性 </p>
</li>
<li><p>I （Isolation）隔离性 </p>
</li>
<li><p>D（Durability）持久性 </p>
</li>
</ul>
<blockquote>
<p>CAP是什么?</p>
</blockquote>
<ul>
<li><p>C（Consistency）强一致性 </p>
</li>
<li><p>A（Availability）可用性 </p>
</li>
<li><p>P（Partition tolerance）分区容错性 </p>
</li>
</ul>
<p><strong>CAP的三进二：CA、AP、CP</strong></p>
<blockquote>
<p>CAP理论的核心</p>
</blockquote>
<ul>
<li><p>一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求 </p>
</li>
<li><p>根据CAP原理，将NoSQL数据库分成了满足CA原则，满足CP原则和满足AP原则三大类： </p>
<ul>
<li>CA：单点集群，满足一致性，可用性的系统，通常可扩展性较差 </li>
<li>CP：满足一致性，分区容错性的系统，通常性能不是特别高 </li>
<li>AP：满足可用性，分区容错性的系统，通常可能对一致性要求低</li>
</ul>
</li>
</ul>
<blockquote>
<p>作为服务注册中心，Eureka比Zookeeper好在哪里？ </p>
</blockquote>
<p>著名的CAP理论指出，一个分布式系统不可能同时满足C（一致性）、A（可用性）、P（容错性）。 </p>
<p>由于分区容错性P在分布式系统中是必须要保证的，因此我们只能在A和C之间进行权衡。 </p>
<ul>
<li><p>Zookeeper保证的是CP； </p>
</li>
<li><p>Eureka保证的是AP；</p>
</li>
</ul>
<blockquote>
<p>Zookeeper保证的是CP</p>
</blockquote>
<p>当向注册中心查询服务列表时，我们可以容忍注册中心返回的是几分钟以前的注册信息，但不能接受服 </p>
<p>务直接down掉不可用。也就是说，服务注册功能对可用性的要求要高于一致性。但是zk会出现这样一种 </p>
<p>情况，当master节点因为网络故障与其他节点失去联系时，剩余节点会重新进行leader选举。问题在 </p>
<p>于，选举leader的时间太长，30~120s，且选举期间整个zk集群都是不可用的，这就导致在选举期间注 </p>
<p>册服务瘫痪。在云部署的环境下，因为网络问题使得zk集群失去master节点是较大概率会发生的事件， </p>
<p>虽然服务最终能够恢复，但是漫长的选举时间导致的注册长期不可用是不能容忍的。 </p>
<blockquote>
<p>Eureka保证的是AP</p>
</blockquote>
<p>Eureka看明白了这一点，因此在设计时就优先保证可用性。<strong>Eureka**</strong>各个节点都是平等的**，几个节点挂 </p>
<p>掉不会影响正常节点的工作，剩余的节点依然可以提供注册和查询服务。而Eureka的客户端在向某个 </p>
<p>Eureka注册时，如果发现连接失败，则会自动切换至其他节点，只要有一台Eureka还在，就能保住注册 </p>
<p>服务的可用性，只不过查到的信息可能不是最新的，除此之外，Eureka还有一种自我保护机制，如果在 </p>
<p>15分钟内超过85%的节点都没有正常的心跳，那么Eureka就认为客户端与注册中心出现了网络故障，此 </p>
<p>时会出现以下几种情况： </p>
<ul>
<li>Eureka不再从注册列表中移除因为长时间没收到心跳而应该过期的服务 </li>
<li>Eureka仍然能够接受新服务的注册和查询请求，但是不会被同步到其他节点上（即保证当前节点依 </li>
</ul>
<p>然可用） </p>
<ul>
<li>当网络稳定时，当前实例新的注册信息会被同步到其他节点中</li>
</ul>
<p><strong>因此，Eureka可以很好的应对因网络故障导致部分节点失去联系的情况，而不会像zookeeper那样使整</strong> </p>
<p><strong>个注册服务瘫痪</strong></p>
<h1 id="Ribbon负载均衡"><a href="#Ribbon负载均衡" class="headerlink" title="Ribbon负载均衡"></a>Ribbon负载均衡</h1><h2 id="Ribbon是什么？"><a href="#Ribbon是什么？" class="headerlink" title="Ribbon是什么？"></a>Ribbon是什么？</h2><p>Spring Cloud Ribbon是基于Netflflix Ribbon实现的一套<strong>客户端负载均衡的工具</strong>。 </p>
<p>简单的说，Ribbon是Netflflix发布的开源项目，主要功能是提供客户端的软件负载均衡算法，将NetFlix的 </p>
<p>中间层服务连接在一起。Ribbon的客户端组件提供一系列完整的配置项如：连接超时、重试等等。简单 </p>
<p>的说，就是在配置文件中列出LoadBalancer（简称LB：负载均衡）后面所有的机器，Ribbon会自动的 </p>
<p>帮助你基于某种规则（如简单轮询，随机连接等等）去连接这些机器。我们也很容易使用Ribbon实现自 </p>
<p>定义的负载均衡算法</p>
<h2 id="Ribbon能干嘛？"><a href="#Ribbon能干嘛？" class="headerlink" title="Ribbon能干嘛？"></a>Ribbon能干嘛？</h2><p>LB，即负载均衡（Load Balance），在微服务或分布式集群中经常用的一种应用。 </p>
<p>负载均衡简单的说就是将用户的请求平摊的分配到多个服务上，从而达到系统的HA（高可用）。 </p>
<p>常见的负载均衡软件有 Nginx，<strong>Lvs</strong> 等等 </p>
<p>Dubbo、SpringCloud中均给我们提供了负载均衡，<strong>SpringCloud的负载均衡算法可以自定义</strong> </p>
<p>负载均衡简单分类： </p>
<ul>
<li><p>集中式LB </p>
<p>即在服务的消费方和提供方之间使用独立的LB设施 </p>
<p>如之前学习的Nginx，由该设施负责把访问请求通过某种策略转发至服务的提供方！</p>
</li>
<li><p>进程式LB </p>
<p>将LB逻辑集成到消费方，消费方从服务注册中心获知有哪些地址可用，然后自己再从这些地 </p>
<p>址中选出一个合适的服务器。 Ribbon就属于进程内LB，它只是一个类库，集成于消费方进程，消费方通过它来获取到服务 提供方的地址！</p>
</li>
</ul>
<h2 id="Ribbon核心组件IRule"><a href="#Ribbon核心组件IRule" class="headerlink" title="Ribbon核心组件IRule"></a>Ribbon核心组件IRule</h2><blockquote>
<p>IRule：根据特定算法从服务列表中选取一个要访问的服务</p>
</blockquote>
<ul>
<li><p>RoundRobinRule【轮询】 </p>
</li>
<li><p>RandomRule【随机】 </p>
</li>
<li><p>AvailabilityFilterRule【会先过滤掉由于多次访问故障而处于断路器跳闸的服务，还有并发的连接 </p>
</li>
</ul>
<p>数量超过阈值的服务，然后对剩余的服务列表按照轮询策略进行访问】 </p>
<ul>
<li>WeightedResponseTimeRule【根据平均响应时间计算所有服务的权重，响应时间越快服务权重越 </li>
</ul>
<p>大，被选中的概率越高，刚启动时如果统计信息不足，则使用RoundRobinRule策略，等待统计信 </p>
<p>息足够，会切换到WeightedResponseTimeRule】 </p>
<ul>
<li>RetryRule【先按照RoundRobinRule的策略获取服务，如果获取服务失败，则在指定时间内会进行 </li>
</ul>
<p>重试，获取可用的服务】 </p>
<ul>
<li>BestAvailableRule【会先过滤掉由于多次访问故障而处于断路器跳闸状态的服务，然后选择一个并 </li>
</ul>
<p>发量最小的服务】 </p>
<ul>
<li>ZoneAvoidanceRule【默认规则，复合判断server所在区域的性能和server的可用性选择服务器】 </li>
</ul>
<h2 id="Ribbon和Feign有什么区别？"><a href="#Ribbon和Feign有什么区别？" class="headerlink" title="Ribbon和Feign有什么区别？"></a>Ribbon和Feign有什么区别？</h2><p>feign是声明式的web service客户端，它让微服务之间的调用变得更简单了，类似controller调用 </p>
<p>service。 </p>
<p>Spring Cloud集成了Ribbon和Eureka，可在使用Feign时提供负载均衡的http客户端。 </p>
<p>只需要创建一个接口，然后添加注解即可！ </p>
<p><strong>feign ，主要是社区，大家都习惯面向接口编程。这个是很多开发人员的规范。调用微服务访问两种方法</strong> </p>
<ol>
<li><p>微服务名字 【ribbon】 </p>
</li>
<li><p>接口和注解 【feign 】 </p>
</li>
</ol>
<h3 id="Feign能干什么？"><a href="#Feign能干什么？" class="headerlink" title="Feign能干什么？"></a>Feign能干什么？</h3><ul>
<li><p>Feign旨在使编写Java Http客户端变得更容易 </p>
</li>
<li><p>前面在使用Ribbon + RestTemplate时，利用RestTemplate对Http请求的封装处理，形成了一套模 </p>
</li>
</ul>
<p>板化的调用方法。但是在实际开发中，由于对服务依赖的调用可能不止一处，往往一个接口会被多 </p>
<p>处调用，所以通常都会针对每个微服务自行封装一些客户端类来包装这些依赖服务的调用。所以， </p>
<p>Feign在此基础上做了进一步封装，由他 来帮助我们定义和实现依赖服务接口的定义，在Feign的实 </p>
<p>现下，我们只需要创建一个接口并使用注解的方式来配置它（类似于以前Dao接口上标注Mapper </p>
<p>注解，现在是一个微服务接口上面标注一个Feign注解即可。）即可完成对服务提供方的接口绑 </p>
<p>定，简化了使用Spring Cloud Ribbon时，自动封装服务调用客户端的开发量。</p>
<h3 id="Feign集成Ribbon"><a href="#Feign集成Ribbon" class="headerlink" title="Feign集成Ribbon"></a>Feign集成Ribbon</h3><ul>
<li><p>利用Ribbon维护了springcloud-Dept的服务列表信息，并且通过轮询实现了客户端的负载均衡， </p>
<p>而与Ribbon不同的是，通过Feign只需要定义服务绑定接口且以声明式的方法，优雅而且简单的实 </p>
<p>现了服务调用。</p>
</li>
</ul>
<blockquote>
<p>Feign通过接口的方法调用Rest服务 ( 之前是Ribbon+RestTemplate ) </p>
<p>该请求发送给Eureka服务器 （<a href="http://MICROSERVICECLOUD-PROVIDER-DEPT/dept/list）" target="_blank" rel="noopener">http://MICROSERVICECLOUD-PROVIDER-DEPT/dept/list）</a> </p>
<p>通过Feign直接找到服务接口，由于在进行服务调用的时候融合了Ribbon技术，所以也支持负载均衡作 </p>
<p>用！ </p>
<p>feign其实不是做负载均衡的,负载均衡是ribbon的功能,feign只是集成了ribbon而已,但是负载均衡的功能 </p>
<p>还是feign内置的ribbon再做,而不是feign。 </p>
<p>feign的作用的替代RestTemplate,性能比较低，但是可以使代码可读性很强。 </p>
</blockquote>
<h1 id="Hystrix断路器"><a href="#Hystrix断路器" class="headerlink" title="Hystrix断路器"></a>Hystrix断路器</h1><h2 id="分布式系统面临的问题"><a href="#分布式系统面临的问题" class="headerlink" title="分布式系统面临的问题"></a>分布式系统面临的问题</h2><blockquote>
<p>复杂分布式体系结构中的应用程序有数十个依赖关系，每个依赖关系在某些时候将不可避免的失败！ </p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200921095743.png" alt></p>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200921095938.png" alt></p>
<h2 id="服务雪崩"><a href="#服务雪崩" class="headerlink" title="服务雪崩"></a>服务雪崩</h2><p>多个微服务之间调用的时候，假设微服务A调用微服务B和微服务C，微服务B 和微服务C又调用其他的微 </p>
<p>服务，这就是所谓的 “扇出”、如果扇出的链路上某个微服务的调用响应时间过长或者不可用，对微服务A </p>
<p>的调用就会占用越来越多的系统资源，进而引起系统崩溃，所谓的 “雪崩效应”。</p>
<p>对于高流量的应用来说，单一的后端依赖可能会导致所有服务器上的所有资源都在几秒中内饱和。比失 </p>
<p>败更糟糕的是，这些应用程序还可能导致服务之间的延迟增加，备份队列，线程和其他系统资源紧张， </p>
<p>导致整个系统发生更多的级联故障，这些都表示需要对故障和延迟进行隔离和管理，以便单个依赖关系 </p>
<p>的失败，不能取消整个应用程序或系统。 </p>
<p>我们需要 <code>弃车保帅</code></p>
<h2 id="什么是Hystrix"><a href="#什么是Hystrix" class="headerlink" title="什么是Hystrix?"></a>什么是Hystrix?</h2><p>Hystrix是一个用于处理分布式系统的延迟和容错的开源库，在分布式系统里，许多依赖不可避免的会调 </p>
<p>用失败，比如超时，异常等，Hystrix能够保证在一个依赖出问题的情况下，不会导致整体服务失败，避 </p>
<p>免级联故障，以提高分布式系统的弹性。 </p>
<p>“断路器” 本身是一种开关装置，当某个服务单元发生故障之后，通过断路器的故障监控（类似熔断保险 </p>
<p>丝），<strong>向调用方返回一个服务预期的，可处理的备选响应（</strong>FallBack<strong>），而不是长时间的等待或者抛出</strong> </p>
<p><strong>调用方法无法处理的异常，这样就可以保证了服务调用方的线程不会被长时间</strong>，不必要的占用，从而避 </p>
<p>免了故障在分布式系统中的蔓延，乃至雪崩.</p>
<blockquote>
<p>可以干什么？</p>
</blockquote>
<h3 id="服务降级"><a href="#服务降级" class="headerlink" title="服务降级"></a>服务降级</h3><blockquote>
<p>是什么?</p>
</blockquote>
<p>整体资源快不够了，忍痛将某些服务先关掉，待渡过难关，再开启回来</p>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200923083809.png" alt></p>
<p><strong>服务降级处理是在客户端实现完成的，与服务端没有关系</strong> </p>
<h3 id="服务熔断"><a href="#服务熔断" class="headerlink" title="服务熔断"></a>服务熔断</h3><blockquote>
<p>是什么?</p>
</blockquote>
<p>熔断机制是对应雪崩效应的一种微服务链路保护机制。 </p>
<p>当扇出链路的某个微服务不可用或者响应时间太长时，会进行服务的降级，进而熔断该节点微服务的调 </p>
<p>用，快速返回     错误的响应信息。当检测到该节点微服务调用响应正常后恢复调用链路。在SpringCloud </p>
<p>框架里熔断机制通过Hystrix实现。Hystrix会监控微服务间调用的状况，当失败的调用到一定阈值，缺省 </p>
<p>是5秒内20次调用失败就会启动熔断机制。 </p>
<p>熔断机制的注解是 @HystrixCommand</p>
<h3 id="接近实时的监控"><a href="#接近实时的监控" class="headerlink" title="接近实时的监控"></a>接近实时的监控</h3><p><strong>服务监控</strong> <strong>hystrixDashboard</strong> </p>
<p>除了隔离依赖服务的调用以外，Hystrix还提供了准实时的调用监控（Hystrix Dashboard），Hystrix会 </p>
<p>持续地记录所有通过Hystrix发起的请求的执行信息，并以统计报表和图形的形式展示给用户，包括每秒 </p>
<p>执行多少请求，多少成功，多少失败等等。 </p>
<p>Netflflix通过hystrix-metrics-event-stream项目实现了对以上指标的监控，SpringCloud也提供了Hystrix </p>
<p>Dashboard的整合，对监控内容转化成可视化界面！ </p>
<blockquote>
<p>多次刷新自己服务的请求=== <a href="http://localhost:8081/dept/selectById/1" target="_blank" rel="noopener">http://localhost:8081/dept/selectById/1</a> </p>
</blockquote>
<blockquote>
<p>观察监控窗口，就是那个豪猪页面 </p>
</blockquote>
<blockquote>
<p>添加监控地址</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200923090606.png" alt></p>
<ul>
<li><strong>Delay</strong> : 该参数用来控制服务器上轮询监控信息的延迟时间，默认为2000毫秒，可以通过配置 </li>
</ul>
<p>该属性来降低客户端的网络和CPU消耗 </p>
<ul>
<li><strong>Title</strong> ： 该参数对应了头部标题HystrixStream之后的内容，默认会使用具体监控实例URL，可 </li>
</ul>
<p>以通过配置该信息来展示更合适的标题。 </p>
<blockquote>
<p>监控结果:</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200923090736.png" alt></p>
<blockquote>
<p>一圈</p>
</blockquote>
<p>实心圆：公有两种含义，他通过颜色的变化代表了实例的健康程度 </p>
<p>它的健康程度从绿色&lt;黄色&lt;橙色&lt;红色 递减 </p>
<p>该实心圆除了颜色的变化之外，它的大小也会根据实例的请求流量发生变化，流量越 </p>
<p>大，该实心圆就越大，所以通过该实心圆的展示，就可以在大量的实例中快速发现<strong>故障</strong> </p>
<p><strong>实例和高压力实例</strong></p>
<blockquote>
<p>一线 </p>
</blockquote>
<p>曲线：用来记录2分钟内流量的相对变化，可以通过它来观察到流量的上升和下降趋势！ </p>
<blockquote>
<p>整图说明</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200923090952.png" alt></p>
<h1 id="Zuul路由网关"><a href="#Zuul路由网关" class="headerlink" title="Zuul路由网关"></a>Zuul路由网关</h1><h2 id="什么是Zuul"><a href="#什么是Zuul" class="headerlink" title="什么是Zuul?"></a>什么是Zuul?</h2><p>Zuul包含了对请求的路由和过滤两个最主要的功能： </p>
<p>其中路由功能负责将外部请求转发到具体的微服务实例上，是实现外部访问统一入口的基础，而过滤器 </p>
<p>功能则负责对请求的处理过程进行干预，是实现请求校验，服务聚合等功能的基础。Zuul和Eureka进行 </p>
<p>整合，将Zuul自身注册为Eureka服务治理下的应用，同时从Eureka中获得其他微服务的消息，也即以后 </p>
<p>的访问微服务都是通过Zuul跳转后获得。 </p>
<p>注意：Zuul服务最终还是会注册进Eureka </p>
<p>提供：代理 + 路由 + 过滤 三大功能</p>
<h2 id="Zuul能干什么？"><a href="#Zuul能干什么？" class="headerlink" title="Zuul能干什么？"></a>Zuul能干什么？</h2><ul>
<li>路由</li>
<li>过滤   </li>
</ul>
<p>官网文档： <a href="https://github.com/Netflix/zuul/wiki" target="_blank" rel="noopener">https://github.com/Netflix/zuul/wiki</a> </p>
<h1 id="SpringCloud-config分布式配置"><a href="#SpringCloud-config分布式配置" class="headerlink" title="SpringCloud config分布式配置"></a>SpringCloud config分布式配置</h1><blockquote>
<p>概述</p>
</blockquote>
<p><strong>分布式系统面临的-配置文件的问题</strong><br>微服务意味着要将单体应用中的业务拆分成一个个子服务，每个服务的粒度相对较小，因此系统中会出现大量的服<br>务，由于每个服务都需要必要的配置信息才能运行，所以一套集中式的，动态的配置管理设施是必不可少的。<br>SpringCloud提供了ConfigServer来解决这个问题，我们每一个微服务自 己带着一个application.yml, 那上百的<br>配置文件要修改起来，岂不是要发疯! </p>
<h2 id="什么是SpringCloud-config分布式配置中心"><a href="#什么是SpringCloud-config分布式配置中心" class="headerlink" title="什么是SpringCloud config分布式配置中心?"></a>什么是SpringCloud config分布式配置中心?</h2><p><img src="https://cdn.jsdelivr.net/gh/1790735465/butterfly_image/img/20200924153116.png" alt></p>
<p>Spring Cloud Config为微服务架构中的微服务提供集中化的外部配置支持，<strong>配置服务器为各个不同微服务应用</strong><br><strong>的所有环节提供了一个中心化的外部配置</strong>。</p>
<p>Spring Cloud Config分为<strong>服务端</strong>和<strong>客户端</strong>两部分;<br>服务端也称为分布式配置中心，它是一个独立的微服务应用，用来连接配置服务器并为客户端提供获取配置信<br>息，加密，解密信息等访问接口。<br>客户端则是通过指定的配置中心来管理应用资源，以及与业务相关的配置内容，并在启动的时候从配置中心获<br>取和加载配置信息。配置服务器默认采用git来存储配置信息，这样就有助于对环境配置进行版本管理。并且可以<br>通过git客户端工具来方便的管理和访问配置内容。</p>
<h2 id="SpringCloud-config分布式配置中心能干什么"><a href="#SpringCloud-config分布式配置中心能干什么" class="headerlink" title="SpringCloud config分布式配置中心能干什么?"></a>SpringCloud config分布式配置中心能干什么?</h2><ul>
<li>集中管理配置文件</li>
<li>不同环境，不同配置，动态化的配置更新，分环境部署，比如/dev /test/ /prod /beta /release</li>
<li>运行期间动态调整配置，不再需要在每个服务部署的机器上编写配置文件，服务会向配置中心统一拉取配置自己的信息。</li>
<li>当配置发生变动时，服务不需要重启，即可感知到配置的变化，并应用新的配置</li>
<li>将配置信息以REST接口的形式暴露</li>
</ul>
<h1 id="学习代码上传到gitee上面"><a href="#学习代码上传到gitee上面" class="headerlink" title="学习代码上传到gitee上面"></a>学习代码上传到gitee上面</h1><blockquote>
<p>仓库地址 <a href="https://gitee.com/xgp888/spring-cloud" target="_blank" rel="noopener">https://gitee.com/xgp888/spring-cloud</a> </p>
</blockquote>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">csde`Blog</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.csde.vip/posts/2527336709/">https://www.csde.vip/posts/2527336709/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.csde.vip" target="_blank">csde`Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/posts/3404214748/"><img class="next_cover" src="https://dss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1037444687,2006299490&amp;fm=111&amp;gp=0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ElasticSearch学习</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'昵称,邮箱,主页')
var requiredFields = requestSetting(['nick','mail','link'],'nick,mail')
let friends = 'ce2266d4e91782573b50c29e06a811e4'.split(',')
let master = 'd799cdaab02b754cb52617372d860835'.split(',')

window.valine = new Valine({
  el:'#vcomment',
  appId: '8FuNpxJtbdHtuhJ3GKoCfTWh-gzGzoHsz',
  appKey: 'UhJiKPdHOOIQ9G7Duuj2l7br',
  notify: false,
  verify: false,
  placeholder: '请不要说脏话哦！',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: true,
  serverURLs: '',
  emojiCDN: '//i0.hdslb.com/bfs/emote/',
  emojiMaps: {"2020":"dc709fac0d361370bcf0d36d32adb97df7c95824.png","tv_白眼":"c1d59f439e379ee50eef488bcb5e5378e5044ea4.png","tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_坏笑":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_难过":"87f46748d3f142ebc6586ff58860d0e2fc8263ba.png","tv_生气":"26702dcafdab5e8225b43ffd23c94ac1ff932654.png","tv_委屈":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_斜眼笑":"911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png","tv_呆":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_发怒":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_惊吓":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png","tv_呕吐":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_思考":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_微笑":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_疑问":"0793d949b18d7be716078349c202c15ff166f314.png","tv_大哭":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_鼓掌":"1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png","tv_抠鼻":"c666f55e88d471e51bbd9fab9bb308110824a6eb.png","tv_亲亲":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_调皮":"b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png","tv_笑哭":"1abc628f6d4f4caf9d0e7800878f4697abbc8273.png","tv_晕":"5443c22b4d07fb1907ccc610c8e6db254f2461b7.png","tv_点赞":"f85c354995bd99e28fc76c869bfe42ba6438eff4.png","tv_害羞":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_睡着":"8b196675b53af58264f383c50ad0945048290b33.png","tv_色":"61822c7e9aae5da76475e7892534545336b23a6f.png","tv_吐血":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_无奈":"ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png","tv_再见":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_流汗":"cead1c351ab8d79e9f369605beb90148db0fbed3.png","tv_偷笑":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_抓狂":"fe31c08edad661d63762b04e17b8d5ae3c71a757.png","tv_黑人问号":"45821a01f51bc867da9edbaa2e070410819a95b2.png","tv_困":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_打脸":"56ab10b624063e966bfcb76ea5dc4794d87dfd47.png","tv_闭嘴":"c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png","tv_鄙视":"6e72339f346a692a495b123174b49e4e8e781303.png","tv_腼腆":"89712c0d4af73e67f89e35cbc518420380a7f6f4.png","tv_馋":"fc7e829b845c43c623c8b490ee3602b7f0e76a31.png","tv_可爱":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_发财":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_生病":"8b0ec90e6b86771092a498c54f09fc94621c1900.png","tv_流鼻血":"c32d39db2737f89b904ca32700d140a9241b0767.png","tv_尴尬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_大佬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_流泪":"7e71cde7858f0cd50d74b0264aa26db612a8a167.png","tv_冷漠":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_皱眉":"72ccad6679fea0d14cce648b4d818e09b8ffea2d.png","tv_鬼脸":"0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png","tv_调侃":"4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png","tv_目瞪口呆":"0b8cb81a68de5d5365212c99375e7ace3e7891b7.png","2233娘_大笑":"16b8794be990cefa6caeba4d901b934a227ee3b8.png","2233娘_疑问":"0b41f509351958dbb63d472fec0132d1bd03bd14.png","2233娘_吃惊":"d1628c43d35b1530c0504a643ff80b6189fa0a43.png","2233娘_汗":"247cd9df8cdf84b18368c21e3b2dd374e84c0927.png","2233娘_大哭":"476a2a60f6e337b8c0697a592e0aa82781f6b33b.png","2233娘_困惑":"714eeb4eae0d0933b4ff08b7df788b1982f6b940.png","2233娘_耶":"d7178e258a0efc969b65ccc2b1322fb235f5dff4.png","2233娘_怒":"f31953119c51b9748016440ac0b632f779929b37.png","2233娘_卖萌":"ea893aa25355de95ab4f03c2dad3f0c58d0c159e.png","2233娘_委屈":"d9d0bf9d358af8d5761093ec66d4e3f60d963a63.png","2233娘_郁闷":"485203fe7100f2c8fc40b2800a18fe20b35f2f1a.png","2233娘_第一":"3754ee6e5985bd0bd7dfb668981f2a8733398ebd.png","2233娘_喝水":"695bf5429472049b52c1e0de586f8a2511195a23.png","2233娘_吐魂":"e999af499edf38a91ca68b1a9d2f97042c1d6734.png","2233娘_无言":"fdb5870f32cfaf7949e0f88a13f6feba4a48b719.png","热词系列_增加":"142409b595982b8210b2958f3d340f3b47942645.png","热词系列_泪目":"bba3703ab90b7d16fe9dbcb85ed949db687f8331.png","热词系列_保护":"55f8f6445ca7c3170cdfc5b16036abf639ce9b57.png","热词系列_害怕":"d77e2de26da143249f0c0ad7a608c27152c985bf.png","热词系列_爱了爱了":"2a165b555ba20391316366c664ed7891883dc5aa.png","热词系列_问号":"c1d1e76c12180adc8558f47006fe0e7ded4154bb.png","热词系列_吹爆":"b528220f9c37256ed6a37f05bf118e44b08b81e5.png","热词系列_三连":"21f15fe11b7a84d2f2121c16dec50a4e4556f865.png","热词系列_可以":"e08543c71202b36c590094417fcfbb80c3506cd8.png","热词系列_打卡":"a9cf77c78e1b9b40aa3ed4862402fba008ee2f51.png","热词系列_妙啊":"0e98299d7decf5eaffad854977946075c3e91cb8.png","热词系列_这次一定":"a01ca28923daa7cc896c42f27deb4914e20dd572.png","热词系列_AWSL":"c37f88cf799f9badf9d84b7671dc3dd98c0fc0c2.png","热词系列_递话筒":"98e6950e39fbb4dd1c576042063ca632074070ba.png","热词系列_你细品":"535e00658e7e47966f154d3a167fa2365ebc4321.png","热词系列_咕咕":"d8065c2e7ce48c929317a94553499a46fecc262a.png","热词系列_标准结局":"3de98174b510cf7dc5fd1bd08c5d881065e79137.png","热词系列_危":"5cc6c3357c4df544dd8de9d5c5c0cec97c7c9a56.png","热词系列_张三":"255a938f39cea625032b6650036b31aa26c50a3c.png","热词系列_害":"cbe798a194612958537c5282fcca7c3bcd2aa15c.png","热词系列_我裂开了":"29bd57ec4e8952880fea6c9e47aee924e91f10c4.png","热词系列_有内味了":"7ca61680a905b5b6e2e335c630e725b648b03b4d.png","热词系列_猛男必看":"c97064450528a0e45c7e7c365a15fbb13fd61d8c.png","热词系列_奥力给":"c9b8683827ec6c00fea5327c9bec14f581cef2aa.png","热词系列_我哭了":"9e0b3877d649aaf6538fbdd3f937e240a9d808e4.png","热词系列_高产":"9db817cba4a7f4a42398f3b2ec7c0a8e0c247c42.png","热词系列_我酸了":"a8cbf3f6b8cd9377eeb15b9172f3cd683b2e4650.png","热词系列_真香":"e68497c775feaac1c3b1a6cd63a50cfb11b767c4.png","热词系列_我全都要":"d424d1ad8d14c1c9b8367842bc68c658b9229bc1.png","热词系列_神仙UP":"a49e0d0db1e7d35a0f7411be13208951ab448f03.png","热词系列_你币有了":"84820c2b147a8ca02f3c4006b63f76c6313cbfa0.png","热词系列_不愧是你":"9ff2e356797c57ee3b1675ade0883d2d2247be9b.png","热词系列_锤":"35668cc12ae25b9545420e4a85bf21a0bfc03e5d.png","热词系列_秀":"50782fbf5d9b7f48f9467b5c53932981e321eedc.png","热词系列_爷关更":"faad40c56447f1f8abcb4045c17ce159d113d1fd.png","热词系列_有生之年":"f41fdafe2d0fbb8e8bc1598d2cf37e355560103a.png","热词系列_镇站之宝":"24e7a6a6e6383c987215fb905e3ee070aca259b5.png","热词系列_我太男了":"a523f3e4c63e4db1232365765d0ec452f83be97e.png","热词系列_完结撒花":"ea9db62ff5bca8e069cd70c4233353a802835422.png","热词系列_大师球":"f30089248dd137c568edabcb07cf67e0f6e98cf3.png","热词系列_知识盲区":"ccc94600b321a28116081e49ecedaa4ee8728312.png","热词系列_“狼火”":"33ccd3617bfa89e9d1498b13b7542b63f163e5de.png","加油武汉":"eb966aaa5b690d3f9308a9f936f5b5a72a7f956b.png","口罩":"3ad2f66b151496d2a5fb0a8ea75f32265d778dd3.png","鸡腿":"c7860392815d345fa69c4f00ef18d67dccfbd574.png","微笑":"685612eadc33f6bc233776c6241813385844f182.png","笑":"81edf17314cea3b48674312b4364df44d5c01f17.png","呲牙":"b5a5898491944a4268360f2e7a84623149672eb6.png","OK":"4683fd9ffc925fa6423110979d7dcac5eda297f4.png","星星眼":"63c9d1a31c0da745b61cdb35e0ecb28635675db2.png","哦呼":"362bded07ea5434886271d23fa25f5d85d8af06c.png","嫌弃":"de4c0783aaa60ec03de0a2b90858927bfad7154b.png","喜欢":"8a10a4d73a89f665feff3d46ca56e83dc68f9eb8.png","酸了":"92b1c8cbceea3ae0e8e32253ea414783e8ba7806.png","大哭":"2caafee2e5db4db72104650d87810cc2c123fc86.png","害羞":"9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda.png","无语":"44667b7d9349957e903b1b62cb91fb9b13720f04.png","疑惑":"b7840db4b1f9f4726b7cb23c0972720c1698d661.png","调皮":"8290b7308325e3179d2154327c85640af1528617.png","喜极而泣":"485a7e0c01c2d70707daae53bee4a9e2e31ef1ed.png","奸笑":"bb84906573472f0a84cebad1e9000eb6164a6f5a.png","偷笑":"6c49d226e76c42cd8002abc47b3112bc5a92f66a.png","大笑":"ca94ad1c7e6dac895eb5b33b7836b634c614d1c0.png","阴险":"ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c.png","捂脸":"6921bb43f0c634870b92f4a8ad41dada94a5296d.png","囧":"12e41d357a9807cc80ef1e1ed258127fcc791424.png","呆":"33ad6000d9f9f168a0976bc60937786f239e5d8c.png","抠鼻":"cb89184c97e3f6d50acfd7961c313ce50360d70f.png","惊喜":"0afecaf3a3499479af946f29749e1a6c285b6f65.png","惊讶":"f8e9a59cad52ae1a19622805696a35f0a0d853f3.png","笑哭":"c3043ba94babf824dea03ce500d0e73763bf4f40.png","妙啊":"b4cb77159d58614a9b787b91b1cd22a81f383535.png","doge":"bba7c12aa51fed0199c241465560dfc2714c593e.png","滑稽":"d15121545a99ac46774f1f4465b895fe2d1411c3.png","吃瓜":"4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84.png","打call":"431432c43da3ee5aab5b0e4f8931953e649e9975.png","点赞":"1a67265993913f4c35d15a6028a30724e83e7d35.png","鼓掌":"895d1fc616b4b6c830cf96012880818c0e1de00d.png","尴尬":"cb321684ed5ce6eacdc2699092ab8fe7679e4fda.png","冷":"cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed.png","灵魂出窍":"43d3db7d97343c01b47e22cfabeca84b4251f35a.png","委屈":"d2f26cbdd6c96960320af03f5514c5b524990840.png","傲娇":"010540d0f61220a0db4922e4a679a1d8eca94f4e.png","疼":"905fd9a99ec316e353b9bd4ecd49a5f0a301eabf.png","吓":"9c10c5ebc7bef27ec641b8a1877674e0c65fea5d.png","生病":"0f25ce04ae1d7baf98650986454c634f6612cb76.png","吐":"06946bfe71ac48a6078a0b662181bb5cad09decc.png","嘘声":"e64af664d20716e090f10411496998095f62f844.png","捂眼":"c5c6d6982e1e53e478daae554b239f2b227b172b.png","思考":"cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c.png","再见":"fc510306bae26c9aec7e287cdf201ded27b065b9.png","翻白眼":"eba54707c7168925b18f6f8b1f48d532fe08c2b1.png","哈欠":"888d877729cbec444ddbd1cf4c9af155a7a06086.png","奋斗":"bb2060c15dba7d3fd731c35079d1617f1afe3376.png","墨镜":"3a03aebfc06339d86a68c2d893303b46f4b85771.png","撇嘴":"531863568e5668c5ac181d395508a0eeb1f0cda4.png","难过":"a651db36701610aa70a781fa98c07c9789b11543.png","抓狂":"4c87afff88c22439c45b79e9d2035d21d5622eba.png","生气":"3195714219c4b582a4fb02033dd1519913d0246d.png","干杯":"8da12d5f55a2c7e9778dcc05b40571979fe208e6.png","爱心":"ed04066ea7124106d17ffcaf75600700e5442f5c.png","锦鲤":"643d6c19c8164ffd89e3e9cdf093cf5d773d979c.png","胜利":"b49fa9f4b1e7c3477918153b82c60b114d87347c.png","加油":"c7aaeacb21e107292d3bb053e5abde4a4459ed30.png","保佑":"fafe8d3de0dc139ebe995491d2dac458a865fb30.png","抱拳":"89516218158dbea18ab78e8873060bf95d33bbbe.png","响指":"1b5c53cf14336903e1d2ae3527ca380a1256a077.png","支持":"3c210366a5585706c09d4c686a9d942b39feeb50.png","拥抱":"41780a4254750cdaaccb20735730a36044e98ef3.png","怪我咯":"07cc6077f7f7d75b8d2c722dd9d9828a9fb9e46d.png","跪了":"f2b3aee7e521de7799d4e3aa379b01be032698ac.png","黑洞":"e90ec4c799010f25391179118ccd9f66b3b279ba.png","老鼠":"8e6fb491eb1bb0d5862e7ec8ccf9a3da12b6c155.png","福到了":"5de5373d354c373cf1617b6b836f3a8d53c5a655.png"},
  enableQQ: true,
  requiredFields: requiredFields,
  master: master,
  friends: friends,
  metaPlaceholder: {"nick":"昵称/QQ号(必填)","mail":"邮箱(必填)","link":"网址(https://)"}
});</script></div></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By csde`Blog</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script src="https://cdn.jsdelivr.net/gh/1790735465/static/js/title.js"></script></body></html>